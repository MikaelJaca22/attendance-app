<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Student Attendance System - Static Site">
    <title>Student Attendance System</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner">
        <div class="spinner"></div>
    </div>

    <!-- Dark Mode Toggle -->
    <button id="darkModeToggle" class="dark-mode-toggle" aria-label="Toggle dark mode">
        <span id="darkModeIcon">ðŸŒ™</span>
    </button>

    <!-- Message Container -->
    <div id="messageContainer"></div>

    <!-- Login Section -->
    <section id="loginSection" class="auth-section">
        <div class="auth-container">
            <div class="auth-header">
                <h1>ðŸ“š Student Attendance System</h1>
                <p>Login to manage your class attendance</p>
            </div>
            <form id="loginForm" class="auth-form">
                <div class="form-group">
                    <label for="loginUsername">Username</label>
                    <input type="text" id="loginUsername" required minlength="3" placeholder="Enter username">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required minlength="4" placeholder="Enter password">
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
                <p class="form-footer">
                    Don't have an account? 
                    <a href="?action=register" class="link">Register here</a>
                </p>
            </form>
        </div>
    </section>

    <!-- Register Section -->
    <section id="registerSection" class="auth-section" style="display: none;">
        <div class="auth-container">
            <div class="auth-header">
                <h1>ðŸ“š Teacher Registration</h1>
                <p>Create your account to get started</p>
            </div>
            <form id="registerForm" class="auth-form">
                <div class="form-group">
                    <label for="registerUsername">Username</label>
                    <input type="text" id="registerUsername" required minlength="3" placeholder="Choose a username">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" required minlength="4" placeholder="Choose a password">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" required minlength="4" placeholder="Confirm password">
                </div>
                <button type="submit" class="btn btn-primary">Register</button>
                <p class="form-footer">
                    Already have an account? 
                    <a href="?action=login" class="link">Login here</a>
                </p>
            </form>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboardSection" class="dashboard-section" style="display: none;">
        <header class="dashboard-header">
            <div class="header-content">
                <h1>ðŸ“Š Attendance Dashboard</h1>
                <div class="header-actions">
                    <span id="currentUserDisplay" class="current-user"></span>
                    <button id="logoutBtn" class="btn btn-logout">Logout</button>
                </div>
            </div>
        </header>

        <div class="dashboard-container">
            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Students</h3>
                    <p id="totalStudents" class="stat-number">0</p>
                </div>
                <div class="stat-card present">
                    <h3>Present</h3>
                    <p id="presentCount" class="stat-number">0</p>
                </div>
                <div class="stat-card absent">
                    <h3>Absent</h3>
                    <p id="absentCount" class="stat-number">0</p>
                </div>
                <div class="stat-card unmarked">
                    <h3>Unmarked</h3>
                    <p id="unmarkedCount" class="stat-number">0</p>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls-container">
                <div class="search-group">
                    <input type="text" id="searchInput" placeholder="Search by name or student ID..." class="search-input">
                </div>
                <div class="filter-group">
                    <select id="courseFilter" class="filter-select">
                        <option value="">All Courses</option>
                        <option value="WAD">Web Application Development</option>
                        <option value="OMT">Object Modeling Techniques</option>
                        <option value="OAT">Object Analysis &amp; Design</option>
                        <option value="HM">Hotel Management</option>
                        <option value="HRT">Human Resource Management</option>
                        <option value="BSIT">BS Information Technology</option>
                        <option value="BSHM">BS Hospitality Management</option>
                    </select>
                </div>
                <button id="addStudentBtn" class="btn btn-success">+ Add Student</button>
            </div>

            <!-- Students Table -->
            <div class="table-container">
                <table id="studentsTable" class="students-table">
                    <thead>
                        <tr>
                            <th>Student ID</th>
                            <th>Name</th>
                            <th>Course</th>
                            <th>Year</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="studentsTableBody">
                        <!-- Dynamic content -->
                    </tbody>
                </table>
                <div id="emptyState" class="empty-state" style="display: none;">
                    <p>No students found. Add your first student to get started!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Add Student Modal -->
    <div id="addStudentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Student</h3>
                <button class="modal-close" data-modal="addStudentModal">&times;</button>
            </div>
            <form id="addStudentForm">
                <div class="form-group">
                    <label for="studentName">Full Name</label>
                    <input type="text" id="studentName" required placeholder="Enter student name">
                </div>
                <div class="form-group">
                    <label for="studentIdInput">Student ID</label>
                    <input type="text" id="studentIdInput" required placeholder="e.g., 2024-001">
                </div>
                <div class="form-group">
                    <label for="studentCourse">Course</label>
                    <select id="studentCourse" required>
                        <option value="">Select Course</option>
                        <option value="WAD">Web Application Development</option>
                        <option value="OMT">Object Modeling Techniques</option>
                        <option value="OAT">Object Analysis &amp; Design</option>
                        <option value="HM">Hotel Management</option>
                        <option value="HRT">Human Resource Management</option>
                        <option value="BSIT">BS Information Technology</option>
                        <option value="BSHM">BS Hospitality Management</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="studentYear">Year Level</label>
                    <select id="studentYear" required>
                        <option value="">Select Year</option>
                        <option value="1">1st Year</option>
                        <option value="2">2nd Year</option>
                        <option value="3">3rd Year</option>
                        <option value="4">4th Year</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" data-modal="addStudentModal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Student</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Student Modal -->
    <div id="editStudentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Student</h3>
                <button class="modal-close" data-modal="editStudentModal">&times;</button>
            </div>
            <form id="editStudentForm">
                <input type="hidden" id="editStudentId">
                <div class="form-group">
                    <label for="editStudentName">Full Name</label>
                    <input type="text" id="editStudentName" required>
                </div>
                <div class="form-group">
                    <label for="editStudentIdInput">Student ID</label>
                    <input type="text" id="editStudentIdInput" required>
                </div>
                <div class="form-group">
                    <label for="editStudentCourse">Course</label>
                    <select id="editStudentCourse" required>
                        <option value="WAD">Web Application Development</option>
                        <option value="OMT">Object Modeling Techniques</option>
                        <option value="OAT">Object Analysis &amp; Design</option>
                        <option value="HM">Hotel Management</option>
                        <option value="HRT">Human Resource Management</option>
                        <option value="BSIT">BS Information Technology</option>
                        <option value="BSHM">BS Hospitality Management</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editStudentYear">Year Level</label>
                    <select id="editStudentYear" required>
                        <option value="1">1st Year</option>
                        <option value="2">2nd Year</option>
                        <option value="3">3rd Year</option>
                        <option value="4">4th Year</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" data-modal="editStudentModal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Update Student</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Delete</h3>
                <button class="modal-close" data-modal="deleteModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this student? This action cannot be undone.</p>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" data-modal="deleteModal">Cancel</button>
                <button id="confirmDeleteBtn" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>